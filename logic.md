# 逻辑基础

逻辑，作为一切推理的基础，对于做出正确决断起着至关重要的作用。计算机要产生正确的运算结果，必须依赖于正确的逻辑决策。从另一个角度来说，逻辑还扮演了“时间”的角色，事件A导致了事件B，则意味着事件B的发生在于事件A的发生之后。一个清晰正确的逻辑是推动计算机逐步演算最终得到正确结果的根本动力。或者，我们可以将计算机定义为，能够根据逻辑进行相应操作的机器。

那么，什么是逻辑？逻辑如何演绎推理？为什么逻辑能够驱动计算机的运行？

## 命题逻辑

我们说，一切的结果都是有原因的，或者说，所有的*结论*都是有*前提*的。或者原因的原因也是结果的原因（我打伞因为别人都打伞，别人都打伞因为天下雨了，天下雨了也是我打伞的原因），抑或结果本身就是结果的原因（这是把椅子因为这是把椅子）。我们把前提和结论称为*命题*，一般用字母$$p, q, r, \ldots$$表示。如果把所有不必要的结论去掉，仅留下结论即是前提的结论，便构成了所有逻辑推理的基础，我们称之为*原子命题*。并且，我们赋予这些原子命题一个属性，称作*真*。

为了还原之前省略的结论，或者表达出更多的结论，我们需要定义一些*逻辑连接词*，构成*非原子命题*。根据构成新命题所需要命题的个数，我们列出一些常见逻辑连接词。

### 逻辑连接词

#### 零元连接词

零元连接词有两个，⊤表示真，⊥表示假。可以表达恒真或恒假的命题。在Julia中可用```true```和```false```分别表示。

#### 一元连接词

一元连接词有一个，称作逻辑非，表示一个命题的否定，写作¬p。在Julia中表示为```!p```。我们定义，命题p为F当且仅当¬p为T。

特别注意，一个命题并非非假即真。例如p(x)定义为"x为偶数"，那么命题p(x)的真假与变量x有关。

#### 二元连接词

两个命题p,q的合取（逻辑与）p∧q为真当且仅当p和q都为真，析取（逻辑或）p∨q为真当且仅当至少一个命题为真。需要注意，逻辑与和逻辑或与我们生活中所用的与和或概念上稍有差别。例如，生活中用“或”时，常表示二者选其一（实际为逻辑异或），而逻辑或还可以表示两者都为真。Julia中，合取和析取分别表示为```p&&q```和```p||q```。

从逻辑意义上来说，合取表示一种**极小真性**，遇假即假；析取表示一种**极大真性**，遇真即真。于是对于p∧q，若p为假，则命题为假，不必理会q；同样对于p∨q，若p为真，则命题为真，亦不必理会q。这叫合取和析取的*短路现象*。

另外一种二元连接词蕴涵，p→q为假当且仅当p为真且q为假。有的作者也将其读作“如果p，那么q”，实际上是“如果p为真，则q为真”的省略形式，不过这并没有对蕴涵做出充分解释，例如当p为假时，p→q始终为真。蕴涵在逻辑上可以理解为一种**趋真性**，也可以理解为“非p或q”，实际上，我们有p→q=¬p∨q。

#### 优先级

逻辑连接词其实与加减乘除无异，逻辑连接词用于对于命题进行演算，加减乘除用于对于数进行演算。故我们要注意逻辑连接词的交换性和结合性。显然，合取和析取各自都存在交换律和结合律，不过当两个连接词同时出现时，不可随意交换或结合，正如1+2×3≠1×2+3≠(1+2)×3。考虑下面这个例子：如果明天下雨或者下雪并且我没有带伞或者没穿雨靴，那么我就不去上课了。如果认为或者的优先级较高，则理解为“若(1)明天是雨雪天(2)我没有任一装备两个条件同时满足，我便不去上课了”；而倘若认为并且的优先级较高，则应理解为“只要(1)明天下雨(2)下雪且我没带伞(3)我没穿雨靴三个条件满足其一，我便不去上课了”。

为了保证表达无歧义（无”二义性“），我们规定优先级从高至低依次为：逻辑非>合取>析取>蕴涵。因此，```¬p||q&&r```表示```(¬p)||(q&&r)```。所以若要优先运算逻辑或，应用括号将其括起来，例如```(¬(p||q))&&r```。

#### 运算律

* 交换律: p∧q=q∧p, p∨q=q∨p
* 结合律: $$(p∧q)∧r=p∧(q∧r), (p∨q)∨r=p∨(q∨r)$$
* 分配律: $$p∧(q∨r)=(p∧q)∨(p∧r)$$
* 双否律: $$¬¬p=p$$
* 对偶律(De Morgan): $$¬(p∧q)=¬p∨¬q, ¬(p∨q)=¬p∧¬q$$

#### 连接词完备性(*)


### 布尔代数

我们之前已经发现，逻辑运算与算数运算都有譬如结合律、交换律、结合律的性质。那么，是否存在一种对应，包括真值与自然数的对应，逻辑连接词与算术运算符的对应，使得，我们所做的逻辑运算就是算数运算呢？在范畴论中，我们称这种对应为*自然变换*。我们其实已经接触过许多自然变换，譬如，我们将手指与0-10的数字对应起来，使得我们可以不需要用手指也能进行十以内的计算；又如，英汉词典将中文和英文对应起来，使得我们不论用什么语言，都能传达相同的意思。

如果以一种哲学视野来看，任何人类发明的符号，不论是文字还是数字，都是为了表达一种实质。不同的时代，不同的地域，不同的文明，都会创造不同的专属的符号。但是，不同的符号终究在传递共通的概念和思想。自然变换就是符号的变换，就是本质的对应。

## 谓词逻辑